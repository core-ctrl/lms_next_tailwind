{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/parup/Downloads/lms_next_tailwind%20%281%29/pages/admin/create-course.js"],"sourcesContent":["import { useState } from 'react'\nimport { useRouter } from 'next/router'\nimport axios from 'axios'\n\nexport default function CreateCourse(){\n  const [title, setTitle] = useState('')\n  const [desc, setDesc] = useState('')\n  const [resources, setResources] = useState([]) // {type, src, name}\n  const [file, setFile] = useState(null)\n  const router = useRouter()\n\n  function addYoutube(){ const url = prompt('Paste YouTube URL'); if(url) setResources(r=>[...r,{type:'youtube',src:url,name:'YouTube'}]) }\n  function pickFile(e){ setFile(e.target.files[0]) }\n\n  async function uploadFileToServer(file){\n    const reader = new FileReader()\n    return new Promise((resolve,reject)=>{\n      reader.onload = async () => {\n        const base = reader.result.split(',')[1]\n        const resp = await axios.post('/api/upload', { filename: Date.now() + '_' + file.name, contentBase64: base })\n        resolve(resp.data.url)\n      }\n      reader.onerror = reject\n      reader.readAsDataURL(file)\n    })\n  }\n\n  async function submit(e){\n    e.preventDefault()\n    let resList = resources.slice()\n    if(file){\n      try{\n        const url = await uploadFileToServer(file)\n        const type = file.type.includes('video') ? 'mp4' : 'pdf'\n        resList.push({ type, src: url, name: file.name })\n      }catch(e){ alert('Upload failed'); return }\n    }\n    const courses = JSON.parse(localStorage.getItem('lms_courses')||'[]')\n    const id = courses.length ? Math.max(...courses.map(c=>c.id))+1 : 1\n    courses.push({ id, title, description: desc, resources: resList })\n    localStorage.setItem('lms_courses', JSON.stringify(courses))\n    router.push('/admin/dashboard')\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto bg-white p-6 rounded shadow\">\n      <h2 className=\"text-xl font-semibold mb-4\">Create Course</h2>\n      <form onSubmit={submit} className=\"space-y-3\">\n        <input value={title} onChange={e=>setTitle(e.target.value)} placeholder=\"Title\" className=\"w-full p-2 border rounded\" />\n        <textarea value={desc} onChange={e=>setDesc(e.target.value)} placeholder=\"Description\" className=\"w-full p-2 border rounded\" />\n        <div className=\"flex gap-2\">\n          <button type=\"button\" onClick={addYoutube} className=\"px-3 py-1 border rounded\">Add YouTube URL</button>\n          <input type=\"file\" onChange={pickFile} />\n        </div>\n        <div>\n          <h4 className=\"font-semibold\">Resources</h4>\n          <ul className=\"mt-2 space-y-1\">\n            {resources.map((r,i)=>(<li key={i}>{r.name || r.src}</li>))}\n          </ul>\n        </div>\n        <button className=\"px-3 py-1 bg-indigo-600 text-white rounded\">Create</button>\n      </form>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}